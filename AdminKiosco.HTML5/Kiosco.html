<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="Styles/style.css" media="screen" />
	<script src="Scripts/knockout-3.1.0.js" type="text/javascript" ></script>
	<script src="Scripts/jquery-1.11.1.min.js" type="text/javascript" ></script>
    <script src="Scripts/datajs-1.1.2.min.js" type="text/javascript"></script>
    <script src="Scripts/service.js" type="text/javascript"></script>
</head>
<body>
	<script type="text/javascript">
		$(function(){
		    $("#footer").load("footer.html");
		    $("#header").load("header.html");
		  
		});

		// This is what our view model looks like.
		var KioscoViewModelFn = function () {
		    var that = this;

		    // The list of ideas we are editing.
		    //this.ideas = ko.observableArray([]);

		    // A placeholder for a new idea to be added.
		    //this.newIdea = {
		    //    title: ko.observable("New Idea"),
		    //    description: ko.observable("Short idea description")
		    //};

		    // A flag indicating whether we are communicating with the server.
		    this.communicating = ko.observable(false);

		    // Adds the newIdea placeholder to the list and saves to the server.
		    this.addNewIdea = function () {
		        var request = {
		            requestUri: serviceUri + "Ideas",
		            method: "POST",
		            data: { Title: that.newIdea.title(), Description: that.newIdea.description() }
		        };

		    makeRequest(request, function (newItem) {
		            that.newIdea.title("New Idea");
		            that.newIdea.description("Short idea description");
		            that.ideas.push(ideaModelToViewModel(newItem));
		        });
		    };
		};


		$(document).ready(function() {
		
		    var KioscoViewModel = new KioscoViewModelFn();

		    makeRequest({ requestUri: serviceUri + "Kiosco" }, function (data) {
		        
		        ko.applyBindings({
		            rows: data.results
		        });
		        
		    });
		    
		});
	
    </script>
	<div id="header"></div>
	<div id="mainContainer">
        <table style="padding: 0 0 0 0; width: 1000px">
            <tbody>
                <tr>
                    <td style="width: 40px">
                        <div id="leftMenu">
                            <a href="services.html">Crear</a>
                            <a href="services.html">Borrar</a>
                        </div>
                    </td>
                    <td style="border: medium; border-left-color: ActiveBorder"></td>
                    <td>
                        <div id="mainContent">
                            <table>
                                <tr>
                                    <th>Actions</th>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                </tr>
                                <tbody data-bind="foreach: rows">
                                    <tr>
                                        <td>
                                            <link href="" title="david" rel="icon" />
                                        </td>
                                        <td data-bind="text: Id"></td>
                                        <td data-bind="text: Nombre"></td>
                                    </tr>
                            </table>
                            
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
	</div>
	<div id="footer"></div>
</body>
</html>